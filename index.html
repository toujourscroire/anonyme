<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Joyeux anniversaire üéâ</title>
  <style>
    /* ============================================================
       VARIABLES & RESET
    ============================================================ */
    :root {
      --bg:       #fff0f5;
      --card:     #ffffff;
      --primary:  #e0446a;
      --accent:   #f9a8c4;
      --soft:     #fde8ef;
      --text:     #2d1520;
      --muted:    #9d6070;
      --success:  #d63a5f;
      --error:    #c0392b;
      --gold:     #c9a96e;
      --radius:   22px;
      --shadow:   0 8px 45px rgba(224,68,106,0.15);
    }

    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ============================================================
       FOND ANIM√â ROMANTIQUE
    ============================================================ */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      z-index: -1;
      background:
        radial-gradient(ellipse 70% 55% at 10% 10%, #fce4ec 0%, transparent 60%),
        radial-gradient(ellipse 60% 50% at 90% 15%, #ffd6e7 0%, transparent 55%),
        radial-gradient(ellipse 65% 45% at 50% 95%, #ffe4ec 0%, transparent 60%),
        linear-gradient(160deg, #fff0f5 0%, #fdf4f8 100%);
      animation: bgPulse 12s ease-in-out infinite alternate;
    }

    @keyframes bgPulse {
      0%   { filter: hue-rotate(0deg) brightness(1); }
      100% { filter: hue-rotate(10deg) brightness(1.03); }
    }

    /* C≈ìurs flottants d√©co */
    body::after {
      content: '‚ù§Ô∏è';
      position: fixed;
      top: 8%;
      right: 6%;
      font-size: 1.4rem;
      opacity: 0.18;
      animation: floatDeco 5s ease-in-out infinite alternate;
      pointer-events: none;
      z-index: 0;
    }

    @keyframes floatDeco {
      from { transform: translateY(0) rotate(-10deg); }
      to   { transform: translateY(-14px) rotate(10deg); }
    }

    /* ============================================================
       CONTENEUR
    ============================================================ */
    .wrap {
      max-width: 500px;
      margin: 0 auto;
      padding: 0 20px 70px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    /* ============================================================
       SECTIONS
    ============================================================ */
    .section {
      display: none;
      animation: fadeUp 0.55s cubic-bezier(.4,0,.2,1) both;
    }
    .section.active { display: block; }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(28px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* ============================================================
       CARTE
    ============================================================ */
    .card {
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 42px 36px;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--gold), #f472b6, var(--gold), var(--primary));
      background-size: 300% 100%;
      animation: shimmer 3s linear infinite;
    }

    @keyframes shimmer {
      from { background-position: 0%; }
      to   { background-position: 300%; }
    }

    /* D√©coration c≈ìur fond carte */
    .card::after {
      content: 'üíó';
      position: absolute;
      bottom: -10px;
      right: -5px;
      font-size: 6rem;
      opacity: 0.05;
      pointer-events: none;
    }

    /* ============================================================
       SECTION 1 ‚Äî ACCUEIL
    ============================================================ */
    .hero-hearts {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 14px;
      letter-spacing: 6px;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50%       { transform: scale(1.12); }
    }

    .hero-title {
      font-size: clamp(2rem, 6.5vw, 2.8rem);
      font-weight: 700;
      text-align: center;
      background: linear-gradient(135deg, var(--primary), var(--gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 22px;
      letter-spacing: -0.01em;
    }

    .hero-msg {
      font-size: 1rem;
      line-height: 1.85;
      color: var(--muted);
      text-align: center;
      margin-bottom: 36px;
    }

    .hero-msg strong { color: var(--text); font-weight: 600; }

    .divider-hearts {
      text-align: center;
      font-size: 0.85rem;
      color: var(--accent);
      letter-spacing: 8px;
      margin-bottom: 28px;
      opacity: 0.7;
    }

    /* ============================================================
       BOUTONS
    ============================================================ */
    .btn {
      display: block;
      width: 100%;
      padding: 15px 28px;
      background: linear-gradient(135deg, var(--primary), #c0395a);
      color: white;
      font-size: 0.95rem;
      font-weight: 600;
      border: none;
      border-radius: 60px;
      cursor: pointer;
      letter-spacing: 0.03em;
      transition: transform 0.25s cubic-bezier(.34,1.56,.64,1), box-shadow 0.25s;
      box-shadow: 0 6px 26px rgba(224,68,106,0.40);
    }

    .btn:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 14px 38px rgba(224,68,106,0.50);
    }

    .btn:active { transform: scale(0.97); }

    .btn-ghost {
      background: transparent;
      color: var(--primary);
      border: 2px solid var(--accent);
      box-shadow: none;
      margin-top: 14px;
    }

    .btn-ghost:hover {
      background: var(--soft);
      box-shadow: 0 4px 16px rgba(224,68,106,0.15);
    }

    /* ============================================================
       SECTION 2 ‚Äî JEU
    ============================================================ */
    .game-header { text-align: center; margin-bottom: 28px; }

    .game-header h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 5px;
    }

    .game-header p { font-size: 0.85rem; color: var(--muted); }

    .progress-bar-wrap {
      background: var(--soft);
      border-radius: 20px;
      height: 8px;
      margin-bottom: 28px;
      overflow: hidden;
    }

    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--gold));
      border-radius: 20px;
      transition: width 0.5s cubic-bezier(.4,0,.2,1);
    }

    .step-counter {
      text-align: center;
      font-size: 0.78rem;
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 22px;
    }

    .question-box { display: none; animation: fadeUp 0.45s ease both; }
    .question-box.active { display: block; }

    .question-text {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 20px;
      text-align: center;
    }

    .input-wrap { position: relative; margin-bottom: 12px; }

    .input-wrap input {
      width: 100%;
      padding: 14px 18px;
      background: var(--soft);
      border: 2px solid transparent;
      border-radius: 14px;
      font-size: 1rem;
      color: var(--text);
      outline: none;
      transition: border-color 0.25s, background 0.25s;
    }

    .input-wrap input:focus {
      border-color: var(--accent);
      background: #fff8fb;
    }

    .input-wrap input.shake {
      animation: shake 0.4s ease;
      border-color: var(--error) !important;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%       { transform: translateX(-7px); }
      40%       { transform: translateX(7px); }
      60%       { transform: translateX(-5px); }
      80%       { transform: translateX(5px); }
    }

    .feedback {
      font-size: 0.88rem;
      font-weight: 500;
      text-align: center;
      min-height: 22px;
      margin-bottom: 10px;
    }

    .feedback.error   { color: var(--error); }
    .feedback.success { color: var(--success); }

    /* ============================================================
       SECTION 3 ‚Äî FIN (vid√©o + QR)
    ============================================================ */
    .end-hearts {
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 14px;
      letter-spacing: 5px;
      animation: pulse 2.5s ease-in-out infinite;
    }

    .end-title {
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary), var(--gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-align: center;
      margin-bottom: 10px;
    }

    .end-text {
      font-size: 0.95rem;
      color: var(--muted);
      text-align: center;
      line-height: 1.75;
      margin-bottom: 30px;
    }

    /* ‚îÄ‚îÄ VID√âO ‚îÄ‚îÄ */
    .video-section {
      margin-bottom: 32px;
    }

    .video-label {
      text-align: center;
      font-size: 0.82rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 12px;
    }

    .video-wrap {
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(224,68,106,0.2);
      border: 3px solid var(--soft);
      position: relative;
      background: #1a0810;
    }

    .video-wrap video {
      width: 100%;
      display: block;
      max-height: 320px;
      object-fit: cover;
    }

    /* Placeholder si vid√©o manquante */
    .video-placeholder {
      width: 100%;
      height: 200px;
      background: linear-gradient(135deg, #fce4ec, #ffd6e7);
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 10px;
      border-radius: 18px;
    }

    .video-placeholder span { font-size: 2.5rem; }
    .video-placeholder p { font-size: 0.75rem; color: var(--muted); text-align: center; }

    /* ‚îÄ‚îÄ QR CODE ‚îÄ‚îÄ */
    .qr-divider {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
    }

    .qr-divider::before, .qr-divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
    }

    .qr-divider span { font-size: 1rem; color: var(--accent); }

    .qr-wrap { text-align: center; }

    .qr-wrap img {
      width: 190px;
      height: 190px;
      border-radius: 16px;
      object-fit: contain;
      border: 3px solid var(--soft);
      box-shadow: 0 8px 30px rgba(224,68,106,0.18);
      margin: 0 auto 12px;
      display: block;
    }

    .qr-placeholder {
      width: 190px;
      height: 190px;
      border-radius: 16px;
      background: var(--soft);
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin: 0 auto 12px;
      border: 2px dashed var(--accent);
    }

    .qr-placeholder span { font-size: 2.5rem; }
    .qr-placeholder p { font-size: 0.75rem; color: var(--muted); text-align: center; }

    .qr-label {
      font-size: 0.9rem;
      color: var(--muted);
      font-style: italic;
    }

    /* ============================================================
       CONFETTIS C≈íURS
    ============================================================ */
    .confetti-dot {
      position: fixed;
      pointer-events: none;
      z-index: 999;
      animation: confettiFall 3s ease-out forwards;
      font-size: 1rem;
    }

    @keyframes confettiFall {
      0%   { opacity: 1; transform: translateY(-20px) rotate(0deg) scale(1); }
      100% { opacity: 0; transform: translateY(100vh) rotate(540deg) scale(0.4); }
    }

    /* ============================================================
       RESPONSIVE
    ============================================================ */
    @media (max-width: 420px) {
      .card { padding: 30px 20px; }
      .hero-title { font-size: 1.8rem; }
    }
  </style>
</head>
<body>

<div class="wrap">

  <!-- ============================================================
       SECTION 1 ‚Äî ACCUEIL
  ============================================================ -->
  <section class="section active" id="sec-home">
    <div class="card">
      <div class="hero-hearts">üíï üíó üíï</div>
      <h1 class="hero-title">Joyeux anniversaire üéâ</h1>

      <div class="divider-hearts">‚ú¶ ‚ú¶ ‚ú¶</div>

      <!-- ‚¨áÔ∏è √Ä MODIFIER : message d'accueil -->
      <p class="hero-msg">
        Hey toi‚Ä¶ üå∏<br><br>
        C'est ton jour aujourd'hui, et quelqu'un voulait
        juste te dire que tu m√©rites tout le bonheur du monde.<br><br>
        Que cette nouvelle ann√©e de vie t'apporte de la joie,
        de l'amour, et plein de <strong>belles surprises</strong>. üíñ
      </p>

      <button class="btn" onclick="goTo('sec-game')">
        Petit jeu (si tu veux savoir de qui √ßa vient) üéÆ
      </button>
    </div>
  </section>


  <!-- ============================================================
       SECTION 2 ‚Äî JEU
  ============================================================ -->
  <section class="section" id="sec-game">
    <div class="card">
      <div class="game-header">
        <h2>üíù Petit jeu</h2>
        <p>3 questions simples pour d√©couvrir l'auteur‚Ä¶</p>
      </div>

      <div class="progress-bar-wrap">
        <div class="progress-bar-fill" id="progress-fill" style="width:0%"></div>
      </div>
      <p class="step-counter" id="step-counter">√âtape 1 / 3</p>

      <!-- Question 1 -->
      <div class="question-box active" id="q1">
        <p class="question-text">üí≠ Quel mois vient apr√®s Juin ?</p>
        <div class="input-wrap">
          <input type="text" id="inp1" placeholder="Ta r√©ponse‚Ä¶" autocomplete="off"
                 onkeydown="if(event.key==='Enter') checkAnswer(1)" />
        </div>
        <p class="feedback" id="fb1"></p>
        <button class="btn" onclick="checkAnswer(1)">Valider ‚úì</button>
      </div>

      <!-- Question 2 -->
      <div class="question-box" id="q2">
        <p class="question-text">üí≠ Combien de lettres dans <strong>"ANNIV"</strong> ?</p>
        <div class="input-wrap">
          <input type="text" id="inp2" placeholder="Ta r√©ponse‚Ä¶" autocomplete="off"
                 onkeydown="if(event.key==='Enter') checkAnswer(2)" />
        </div>
        <p class="feedback" id="fb2"></p>
        <button class="btn" onclick="checkAnswer(2)">Valider ‚úì</button>
      </div>

      <!-- Question 3 -->
      <div class="question-box" id="q3">
        <p class="question-text">üí≠ √âcris le mot : <strong>sourire</strong></p>
        <div class="input-wrap">
          <input type="text" id="inp3" placeholder="Ta r√©ponse‚Ä¶" autocomplete="off"
                 onkeydown="if(event.key==='Enter') checkAnswer(3)" />
        </div>
        <p class="feedback" id="fb3"></p>
        <button class="btn" onclick="checkAnswer(3)">Valider ‚úì</button>
      </div>

    </div>
  </section>


  <!-- ============================================================
       SECTION 3 ‚Äî FIN : VID√âO + QR CODE
  ============================================================ -->
  <section class="section" id="sec-end">
    <div class="card">
      <div class="end-hearts">üíñ üíï üíñ</div>
      <h2 class="end-title">Ok‚Ä¶ tu peux savoir maintenant üôÇ</h2>

      <!-- ‚¨áÔ∏è √Ä MODIFIER : texte final -->
      <p class="end-text">
        Tu as trouv√© ! Voil√† un petit message vid√©o pour toi,
        et ensuite le QR code pour savoir qui c'est. üíó
      </p>

      <!-- ‚îÄ‚îÄ VID√âO (avant le QR) ‚îÄ‚îÄ -->
      <div class="video-section">
        <p class="video-label">üé¨ Un petit message pour toi</p>

        <div class="video-wrap">
          <!-- ‚¨áÔ∏è √Ä MODIFIER : remplace "video.mp4" par le nom de ta vid√©o -->
          <video controls playsinline preload="metadata"
                 onerror="this.parentElement.style.display='none'; document.getElementById('vid-ph').style.display='flex';">
            <source src="video.mp4" type="video/mp4" />
          </video>
        </div>

        <!-- Placeholder si vid√©o manquante -->
        <div class="video-placeholder" id="vid-ph">
          <span>üé¨</span>
          <p>Place ton fichier<br><strong>video.mp4</strong><br>dans le m√™me dossier</p>
        </div>
      </div>

      <!-- S√©parateur -->
      <div class="qr-divider"><span>üíó</span></div>

      <!-- ‚îÄ‚îÄ QR CODE ‚îÄ‚îÄ -->
      <div class="qr-wrap">
        <!-- ‚¨áÔ∏è qr.png doit √™tre dans le m√™me dossier que index.html -->
        <img src="qr.png" alt="QR Code"
             onerror="this.style.display='none'; document.getElementById('qr-ph').style.display='flex';" />

        <div class="qr-placeholder" id="qr-ph">
          <span>üì∑</span>
          <p>Place ton fichier<br><strong>qr.png</strong><br>dans le m√™me dossier</p>
        </div>

        <p class="qr-label">üì≤ Scanne le QR code</p>
      </div>

      <button class="btn btn-ghost" onclick="restart()">‚Ü© Recommencer</button>
    </div>
  </section>

</div>


<!-- ============================================================
     JAVASCRIPT
============================================================ -->
<script>
  /* ============================================================
     ‚öôÔ∏è R√âPONSES ‚Äî √Ä MODIFIER SI BESOIN
  ============================================================ */
  const ANSWERS = {
    1: 'juillet',
    2: '5',
    3: 'sourire',
  };

  /* ============================================================
     NAVIGATION
  ============================================================ */
  function goTo(id) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  /* ============================================================
     V√âRIFICATION R√âPONSES
  ============================================================ */
  function checkAnswer(step) {
    const input    = document.getElementById('inp' + step);
    const feedback = document.getElementById('fb'  + step);
    const value    = input.value.trim(); // Sensible √† la casse ! "Juillet" ‚â† "juillet"
    const correct  = ANSWERS[step];

    if (!value) {
      showFeedback(feedback, '‚úèÔ∏è √âcris quelque chose d\'abord !', 'error');
      return;
    }

    if (value === correct) {
      showFeedback(feedback, '‚úÖ Bien jou√© ! üíó', 'success');
      input.disabled = true;
      spawnHearts();

      setTimeout(() => {
        if (step < 3) {
          currentStep = step + 1;
          nextQuestion(step);
        } else {
          setTimeout(() => {
            spawnHearts();
            goTo('sec-end');
          }, 700);
        }
      }, 700);

    } else {
      showFeedback(feedback, 'Presque, r√©essaie üôÇ', 'error');
      input.classList.add('shake');
      setTimeout(() => input.classList.remove('shake'), 450);
      input.value = '';
      input.focus();
    }
  }

  let currentStep = 1;

  function nextQuestion(doneStep) {
    document.getElementById('q' + doneStep).classList.remove('active');
    const pct = (doneStep / 3) * 100;
    document.getElementById('progress-fill').style.width = pct + '%';
    document.getElementById('step-counter').textContent  = `√âtape ${doneStep + 1} / 3`;
    document.getElementById('q' + (doneStep + 1)).classList.add('active');
    setTimeout(() => {
      const inp = document.getElementById('inp' + (doneStep + 1));
      if (inp) inp.focus();
    }, 100);
  }

  function showFeedback(el, msg, type) {
    el.textContent = msg;
    el.className   = 'feedback ' + type;
  }

  /* ============================================================
     C≈íURS CONFETTIS
  ============================================================ */
  const HEARTS = ['üíó','üíï','üíñ','üíì','üå∏','‚ú®','üíù'];

  function spawnHearts() {
    for (let i = 0; i < 25; i++) {
      setTimeout(() => {
        const el = document.createElement('div');
        el.className   = 'confetti-dot';
        el.textContent = HEARTS[Math.floor(Math.random() * HEARTS.length)];
        el.style.left  = Math.random() * 100 + 'vw';
        el.style.top   = '-20px';
        el.style.animationDelay    = (Math.random() * 0.5) + 's';
        el.style.animationDuration = (Math.random() * 1.5 + 2) + 's';
        document.body.appendChild(el);
        setTimeout(() => el.remove(), 3500);
      }, i * 55);
    }
  }

  /* ============================================================
     RECOMMENCER
  ============================================================ */
  function restart() {
    [1, 2, 3].forEach(i => {
      const inp = document.getElementById('inp' + i);
      const fb  = document.getElementById('fb'  + i);
      inp.value      = '';
      inp.disabled   = false;
      fb.textContent = '';
      fb.className   = 'feedback';
      document.getElementById('q' + i).classList.remove('active');
    });
    currentStep = 1;
    document.getElementById('progress-fill').style.width = '0%';
    document.getElementById('step-counter').textContent  = '√âtape 1 / 3';
    document.getElementById('q1').classList.add('active');

    // Pause la vid√©o si elle joue
    const vid = document.querySelector('#sec-end video');
    if (vid) { vid.pause(); vid.currentTime = 0; }

    goTo('sec-home');
  }
</script>

</body>
</html>
